<html>
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/0.148.0/three.min.js"></script>

    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.9/dat.gui.min.js"
      integrity="sha512-WoO4Ih0CDOSLYafy22wZD/mcJ7k0ESLqtQsFa6zFKnEUrbtuGU+GkLtVhgt93xa2qewG5gKEC6CWlN8OaCTSVg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
  </head>

  <body style="overflow: hidden; background-color: rgb(0, 0, 0)">
    <script>
      class THREE_SCAFFOLD {
        constructor() {
          this.scene = new THREE.Scene();
          this.camera = new THREE.PerspectiveCamera(
            75,
            window.innerWidth / window.innerHeight
          );

          let background = 0x232323;
          this.scene.background = new THREE.Color(background);

          this.scene.add(this.camera);
          this.renderer = new THREE.WebGLRenderer();
          this.renderer.setSize(window.innerWidth, window.innerHeight);

          let d = this.renderer.domElement;
          d.style.position = "absolute";
          d.style.left = "0px";
          d.style.top = "0px";
          document.body.appendChild(d);

          this.keys = {};
          document.addEventListener("keydown", this.keyDown.bind(this));
          document.addEventListener("keyup", this.keyUp.bind(this));
          window.addEventListener("resize", this.windowResized.bind(this));

          this.lights = {};
          this.lights.ambi = new THREE.AmbientLight(0xffffff, 0.2);
          this.scene.add(this.lights.ambi);

          this.lights.dir = new THREE.DirectionalLight(0xffffff, 1.0);
          this.lights.dir.position.set(-0.8, 0.5, 0.7);
          this.scene.add(this.lights.dir);

          this.clock = new THREE.Clock();

          this.setupScene();
          this.animate();
        }

        setupScene() {
          let geo = new THREE.IcosahedronGeometry(1, 1);

          let mat = new THREE.MeshStandardMaterial({ flatShading: true });

          this.sphere = new THREE.Mesh(geo, mat);
          this.sphere.position.z = -2;
          this.scene.add(this.sphere);
        }

        animate() {
          requestAnimationFrame(this.animate.bind(this));

          let delta = this.clock.getDelta();
          let total = this.clock.getElapsedTime();

          /* Update your scene here */
          this.sphere.rotation.y += this.keys[" "] != true ? delta * 0.1 : 0;
          this.sphere.rotation.x += this.keys[" "] != true ? delta * 0.213 : 0;

          this.renderer.render(this.scene, this.camera);
        }

        windowResized() {
          this.camera.aspect = window.innerWidth / window.innerHeight;
          this.camera.updateProjectionMatrix();

          this.renderer.setSize(window.innerWidth, window.innerHeight);
        }

        keyDown(event) {
          this.keys[event.key] = true;
        }

        keyUp(event) {
          this.keys[event.key] = false;
        }
      }

      let app = new THREE_SCAFFOLD();
    </script>
  </body>
</html>
